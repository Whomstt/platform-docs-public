import { SectionTab } from '@/components/layout/section-tab';
import { Tabs, TabItem } from '@/components/common/multi-codeblock';

After creation, you can update the Agent with new settings if needed. The arguments are the same as those used when creating an Agent.  
The result is a new `version` of the Agent with the new settings, you can this way have the previous and new versions available.

<SectionTab as="h2" variant="secondary" sectionId="create-new-version">Create a new Version</SectionTab>

Create a new `version` of the Agent, will be used by default.
<Tabs groupId="code">
  <TabItem value="python" label="python" default>

```py
simple_agent = client.beta.agents.update(
    agent_id=simple_agent.id, 
    description="An edited simple agent.",
    completion_args={
        "temperature": 0.3,
        "top_p": 0.95,
    }
)
```

  </TabItem>

  <TabItem value="typescript" label="typescript">

```typescript
websearchAgent = await client.beta.agents.update({
    agentId: websearchAgent.id, 
    agentUpdateRequest: {
        completionArgs: {
            temperature: 0.3,
            topP: 0.95,
        },
        description: "An edited simple agent."
    },
});
```
  </TabItem>

  <TabItem value="curl" label="curl">

```bash
curl --location "https://api.mistral.ai/v1/agents/<agent_id>" \
     --header 'Content-Type: application/json' \
     --header 'Accept: application/json' \
     --header "Authorization: Bearer $MISTRAL_API_KEY" \
     --data '{
     "completion_args": {
       "temperature": 0.3,
       "top_p": 0.95
     },
     "description": "An edited simple agent."
  }'
```

  </TabItem>

<TabItem value="output" label="output">
```json
{
  "model": "mistral-medium-2505",
  "name": "Simple Agent",
  "id": "ag_0684fe0e0b98773e8000323fc71a3986",
  "version": 1,
  "created_at": "2025-06-16T09:16:16.726715Z",
  "updated_at": "2025-06-16T09:17:19.872254Z",
  "instructions": null,
  "tools": [],
  "completion_args": {
    "stop": null,
    "presence_penalty": null,
    "frequency_penalty": null,
    "temperature": 0.3,
    "top_p": 0.95,
    "max_tokens": null,
    "random_seed": null,
    "prediction": null,
    "response_format": null,
    "tool_choice": "auto"
  },
  "description": "An edited simple agent.",
  "handoffs": null,
  "object": "agent"
}
```
</TabItem>
</Tabs>

<SectionTab as="h2" variant="secondary" sectionId="change-version">Change version</SectionTab>

Change manually the version of the Agent.

<Tabs groupId="code">
  <TabItem value="python" label="python" default>

```py
simple_agent = client.beta.agents.update_version(
    agent_id=simple_agent.id, 
    version=0
)
```

  </TabItem>

  <TabItem value="typescript" label="typescript">

```typescript
websearchAgent = await client.beta.agents.updateVersion({
    agentId: websearchAgent.id, 
    version: 0
});
```
  </TabItem>

  <TabItem value="curl" label="curl">

```bash
curl --location "https://api.mistral.ai/v1/agents/<agent_id>/version" \
     --header 'Content-Type: application/json' \
     --header 'Accept: application/json' \
     --header "Authorization: Bearer $MISTRAL_API_KEY" \
     --data '{
     "version": 0
  }'
```

  </TabItem>
<TabItem value="output" label="output">
```json
{
  "model": "mistral-medium-2505",
  "name": "Simple Agent",
  "id": "ag_0684fe0e0b98773e8000323fc71a3986",
  "version": 0,
  "created_at": "2025-06-16T09:16:16.726715Z",
  "updated_at": "2025-06-16T09:18:04.624549Z",
  "instructions": null,
  "tools": [],
  "completion_args": {
    "stop": null,
    "presence_penalty": null,
    "frequency_penalty": null,
    "temperature": 0.3,
    "top_p": null,
    "max_tokens": null,
    "random_seed": null,
    "prediction": null,
    "response_format": null,
    "tool_choice": "auto"
  },
  "description": "A simple Agent with persistent state.",
  "handoffs": null,
  "object": "agent"
}
```
</TabItem>
</Tabs>